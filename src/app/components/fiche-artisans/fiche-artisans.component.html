<div class="fiche-artisan container p-4">
  <h1 class="mb-3">{{ artisan.name }}</h1>

  <div class="rating mb-3">
    <i *ngFor="let star of getStars()" class="bi bi-star-fill text-warning"></i>
  </div>

  <p><strong>Spécialité :</strong> {{ artisan.specialty }}</p>
  <p><strong>Localisation :</strong> {{ artisan.location }}</p>

  <section class="mb-4">
    <h2>À propos</h2>
    <p>{{ artisan.about }}</p>
  </section>

  <section *ngIf="artisan.website" class="mb-4">
    <h3>Site web</h3>
    <a [href]="artisan.website" target="_blank" rel="noopener noreferrer">{{ artisan.website }}</a>
  </section>

  <section class="contact-form">
    <h2>Contactez l’artisan</h2>
    <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">
      <div class="mb-3">
        <label for="name" class="form-label">Nom :</label>
        <input id="name" type="text" class="form-control" formControlName="name" [ngClass]="{'is-invalid': contactForm.get('name')?.invalid && contactForm.get('name')?.touched}" required>
        <div *ngIf="contactForm.get('name')?.invalid && contactForm.get('name')?.touched" class="invalid-feedback">
          Le nom est obligatoire.
        </div>
      </div>

      <div class="mb-3">
        <label for="subject" class="form-label">Objet :</label>
        <input id="subject" type="text" class="form-control" formControlName="subject" [ngClass]="{'is-invalid': contactForm.get('subject')?.invalid && contactForm.get('subject')?.touched}" required>
        <div *ngIf="contactForm.get('subject')?.invalid && contactForm.get('subject')?.touched" class="invalid-feedback">
          L'objet est obligatoire.
        </div>
      </div>

      <div class="mb-3">
        <label for="message" class="form-label">Message :</label>
        <textarea id="message" class="form-control" formControlName="message" rows="4" [ngClass]="{'is-invalid': contactForm.get('message')?.invalid && contactForm.get('message')?.touched}" required></textarea>
        <div *ngIf="contactForm.get('message')?.invalid && contactForm.get('message')?.touched" class="invalid-feedback">
          Le message est obligatoire.
        </div>
      </div>

      <button type="submit" class="btn btn-primary" [disabled]="contactForm.invalid">Envoyer</button>
    </form>
  </section>
</div>